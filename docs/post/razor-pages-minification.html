<!DOCTYPE html><html lang=en><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title>Razor Pages Compile-time Minification with ASP.NET Core 2.0</title><meta name=description content="Learn how to use the extensibility features of the Razor engine in ASP.NET Core 2.0 to minify Razor pages at compile time."><meta property=og:locale content=en><meta property=og:site_name content="the guardrex chew"><meta property=og:title content="Razor Pages Compile-time Minification with ASP.NET Core 2.0"><link rel=canonical href="http://www.guardrex.com/"><meta property=og:url content="http://www.guardrex.com/"><meta name=twitter:site content=@guardrex><meta name=twitter:title content="Razor Pages Compile-time Minification with ASP.NET Core 2.0"><meta name=twitter:description content="Learn how to use the extensibility features of the Razor engine in ASP.NET Core 2.0 to minify Razor pages at compile time."><meta name=twitter:url content="http://www.guardrex.com/"><meta name=twitter:card content=summary><meta name=twitter:image content=http://rexsite.azureedge.net/image/twitter600x335.png><meta property=og:image content=http://rexsite.azureedge.net/image/og.png><link rel=apple-touch-icon sizes=57x57 href=http://rexsite.azureedge.net/image/apple-touch-icon-57x57.png><link rel=apple-touch-icon sizes=114x114 href=http://rexsite.azureedge.net/image/apple-touch-icon-114x114.png><link rel=apple-touch-icon sizes=72x72 href=http://rexsite.azureedge.net/image/apple-touch-icon-72x72.png><link rel=apple-touch-icon sizes=144x144 href=http://rexsite.azureedge.net/image/apple-touch-icon-144x144.png><link rel=apple-touch-icon sizes=60x60 href=http://rexsite.azureedge.net/image/apple-touch-icon-60x60.png><link rel=apple-touch-icon sizes=120x120 href=http://rexsite.azureedge.net/image/apple-touch-icon-120x120.png><link rel=apple-touch-icon sizes=76x76 href=http://rexsite.azureedge.net/image/apple-touch-icon-76x76.png><link rel=apple-touch-icon sizes=152x152 href=http://rexsite.azureedge.net/image/apple-touch-icon-152x152.png><link rel=icon type=image/png href=http://rexsite.azureedge.net/image/favicon-196x196.png sizes=196x196><link rel=icon type=image/png href=http://rexsite.azureedge.net/image/favicon-96x96.png sizes=96x96><link rel=icon type=image/png href=http://rexsite.azureedge.net/image/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=http://rexsite.azureedge.net/image/favicon-16x16.png sizes=16x16><link rel=icon type=image/png href=http://rexsite.azureedge.net/image/favicon-128.png sizes=128x128><meta name=application-name content="the guardrex chew"><meta name=msapplication-TileColor content=#FFFFFF><meta name=msapplication-TileImage content=http://rexsite.azureedge.net/image/mstile-144x144.png><meta name=msapplication-square70x70logo content=http://rexsite.azureedge.net/image/mstile-70x70.png><meta name=msapplication-square150x150logo content=http://rexsite.azureedge.net/image/mstile-150x150.png><meta name=msapplication-wide310x150logo content=http://rexsite.azureedge.net/image/mstile-310x150.png><meta name=msapplication-square310x310logo content=http://rexsite.azureedge.net/image/mstile-310x310.png><meta name=msapplication-notification content="polling-uri=http://www.guardrex.com/rss.xml"><style>body{font-family:"Helvetica Neue",Helvetica,Arial,sans-serif;font-size:16px;line-height:1.5;color:#333}h1,h2,h3,h4,h5,h6{font-weight:500;line-height:1.1;margin-top:20px;margin-bottom:10px}h1{font-size:26px}h2{font-size:22px}h3{font-size:20px}.container{padding:0 15px;margin:0 auto;max-width:800px}row{margin-right:-15px;margin-left:-15px}p{margin:0 0 10px}a{color:#337ab7;text-decoration:none}a:hover,a:focus{text-decoration:underline}img{vertical-align:middle;border:0;opacity:1;transition:opacity 0.3s}img[data-src]{opacity:0}.btn{display:inline-block;padding:6px 12px;margin-bottom:0;font-size:14px;font-weight:400;line-height:1.5;text-align:center;white-space:nowrap;vertical-align:middle;touch-action:manipulation;cursor:pointer;user-select:none;background-image:none;border:1px solid #ccc;border-radius:4px;color:#333}.btn:hover,.btn:focus,.btn.focus{background-color:#eee;text-decoration:none}pre{display:block;padding:9px;margin:0 0 10px;font-size:14px;line-height:1.5;color:#333;word-break:break-all;word-wrap:break-word;background-color:#f5f5f5;border:1px solid #ccc;border-radius:4px;font-family:Menlo,Monaco,Consolas,"Courier New",monospace;overflow:auto}ol li{margin:20px 0 20px -25px}table th{text-align:center;border-bottom:1px solid gray}table td:not(:first-child){padding-left:10px}.note,.tip,.warning{border:1px solid gray;padding:10px;margin:10px 0}.note em,.tip em,.warning em{font-size:1.4em}.warning em{color:red}#title{line-height:57px;font-size:36px}#author{font-size:14px;margin-top:5px}@media (max-width:600px){#title,h2{font-size:26px}}@media (max-width:490px){#title,h2{font-size:20px}}@media (max-width:420px){#logo{width:40px;height:40px}#title{font-size:16px;line-height:40px}#author{font-size:12px;margin-top:0}}.nostyle,.nostyle:hover{color:black}</style><script>var _gaq=_gaq||[];_gaq.push(['_setAccount','UA-48425827-1']);_gaq.push(['_trackPageview']);(function(){var ga=document.createElement('script');ga.type='text/javascript';ga.async=true;ga.src=('https:'==document.location.protocol?'https://ssl':'http://www')+'.google-analytics.com/ga.js';var s=document.getElementsByTagName('script')[0];s.parentNode.insertBefore(ga,s);})();</script><header><div id=header_container class=container style="border-bottom:1px solid lightgray;cursor:pointer;cursor:hand" onclick="location.href='/'"><div id=author style=float:right;font-style:italic;text-align:right>Luke Latham<br> <a href=https://twitter.com/guardrex>@guardrex</a></div><img id=logo src=http://rexsite.azureedge.net/image/apple-touch-icon-57x57.png alt=logo style=float:left><div id=title style=color:green;font-family:courier;margin:0>the guardrex chew</div></div></header><div class=container><article><h1>Razor Pages Compile-time Minification with ASP.NET Core 2.0</h1><p>8/13/2017 By: Luke Latham<p><a class=twitter-share-button href="https://twitter.com/intent/tweet?text=Check%20out%20%40guardrex%20blog%20post%20Razor%20Compile%2Dtime%20Minification" data-size=large>Tweet</a> <span class=fb-like data-layout=button_count data-action=like data-size=large data-show-faces=true data-share=true></span><p>Learn how to use the extensibility features of the Razor engine in ASP.NET Core 2.0 to minify Razor pages at compile time.<p>In this article:<ul><li><a href=#introduction>Introduction</a><li><a href=#prerequisites>Prerequisites</a><li><a href=#additional-resources>Additional Resources</a><li><a href=#acknowledgements>Acknowledgements</a></ul><a id=introduction></a><h2><svg aria-hidden=true height=16 version=1.1 viewbox="0 0 16 16" width=16><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"></path></svg> <a href=#introduction class=nostyle>Introduction</a></h2><p>Intro</p><a id=prerequisites></a><h2><svg aria-hidden=true height=16 version=1.1 viewbox="0 0 16 16" width=16><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"></path></svg> <a href=#prerequisites class=nostyle>Prerequisites</a></h2><p>Prereqs</p><a id=additional-resources></a><h2><svg aria-hidden=true height=16 version=1.1 viewbox="0 0 16 16" width=16><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"></path></svg> <a href=#additional-resources class=nostyle>Additional Resources</a></h2><ul><li><a href="https://docs.microsoft.com/aspnet/core/mvc/razor-pages/">Introduction to Razor Pages in ASP.NET Core</a><li><a href="https://www.nuget.org/packages/WebMarkupMin.Core/">WebMarkupMin.Core at nuget.org</a><li><a href=https://github.com/Taritsyn/WebMarkupMin/wiki>WebMarkupMin.Core Wiki at GitHub</a></ul><a id=acknowledgements></a><h2><svg aria-hidden=true height=16 version=1.1 viewbox="0 0 16 16" width=16><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"></path></svg> <a href=#acknowledgements class=nostyle>Acknowledgements</a></h2><ul><li>Bart Calixto (@bartmax) <a href=https://github.com/Bartmax>@GitHub</a> <a href=https://twitter.com/bartmax>@Twitter</a></ul></article><a class=twitter-share-button href="https://twitter.com/intent/tweet?text=Check%20out%20%40guardrex%20blog%20post%20Razor%20Compile%2Dtime%20Minification" data-size=large>Tweet</a><hr><div id=disqus_thread></div><script>(function(){var d=document,s=d.createElement('script');s.src='https://guardrex.disqus.com/embed.js';s.setAttribute('data-timestamp',+new Date());(d.head||d.body).appendChild(s);})();window.twttr=(function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],t=window.twttr||{};if(d.getElementById(id))return t;js=d.createElement(s);js.id=id;js.src="http://platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);t._e=[];t.ready=function(f){t._e.push(f);};return t;}(document,"script","twitter-wjs"));(function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(d.getElementById(id))return;js=d.createElement(s);js.id=id;js.src="http://connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.10";fjs.parentNode.insertBefore(js,fjs);}(document,'script','facebook-jssdk'));</script></div><footer><div class=container style="padding:20px 0;text-align:center"><p>Copyright &copy;2017 Luke Latham All Rights Reserved.</div></footer><script>(function(){'use strict';if(navigator.userAgent.match(/IEMobile\/10\.0/)){var msViewportStyle=document.createElement('style')
msViewportStyle.appendChild(document.createTextNode('@-ms-viewport{width:auto!important}'))
document.querySelector('head').appendChild(msViewportStyle)}
var colors=new Array([62,35,255],[60,255,60],[255,35,98],[45,175,230],[255,0,255],[255,128,0]);var step=0;var colorIndices=[0,1,2,3];var gradientSpeed=0.002;function updateGradient()
{var c0_0=colors[colorIndices[0]];var c0_1=colors[colorIndices[1]];var c1_0=colors[colorIndices[2]];var c1_1=colors[colorIndices[3]];var istep=1-step;var r1=Math.round(istep*c0_0[0]+step*c0_1[0]);var g1=Math.round(istep*c0_0[1]+step*c0_1[1]);var b1=Math.round(istep*c0_0[2]+step*c0_1[2]);var color1="rgb("+r1+","+g1+","+b1+")";var r2=Math.round(istep*c1_0[0]+step*c1_1[0]);var g2=Math.round(istep*c1_0[1]+step*c1_1[1]);var b2=Math.round(istep*c1_0[2]+step*c1_1[2]);var color2="rgb("+r2+","+g2+","+b2+")";document.getElementById("gradient").style.background="-webkit-gradient(linear, left top, right top, from("+color1+"), to("+color2+"))";document.getElementById("gradient").style.background="-moz-linear-gradient(left, "+color1+" 0%, "+color2+" 100%)";step+=gradientSpeed;if(step>=1){step%=1;colorIndices[0]=colorIndices[1];colorIndices[2]=colorIndices[3];colorIndices[1]=(colorIndices[1]+Math.floor(1+Math.random()*(colors.length-1)))%colors.length;colorIndices[3]=(colorIndices[3]+Math.floor(1+Math.random()*(colors.length-1)))%colors.length;}}
if(document.getElementById("gradient")!=null){document.getElementById("header_container").style.borderBottom="none";setInterval(updateGradient,10);}
registerListener('load',setLazy);registerListener('load',lazyLoad);registerListener('scroll',lazyLoad);var lazy=[];function setLazy(){lazy=document.getElementsByClassName('lazy');console.log('Found '+lazy.length+' lazy images');}
function lazyLoad(){for(var i=0;i<lazy.length;i++){if(isInViewport(lazy[i])){if(lazy[i].getAttribute('data-src')){lazy[i].src=lazy[i].getAttribute('data-src');lazy[i].removeAttribute('data-src');}}}
cleanLazy();}
function cleanLazy(){lazy=Array.prototype.filter.call(lazy,function(l){return l.getAttribute('data-src');});}
function isInViewport(el){var rect=el.getBoundingClientRect();return(rect.bottom>=0&&rect.right>=0&&rect.top<=(window.innerHeight||document.documentElement.clientHeight)&&rect.left<=(window.innerWidth||document.documentElement.clientWidth));}
function registerListener(event,func){if(window.addEventListener){window.addEventListener(event,func)}else{window.attachEvent('on'+event,func)}}})();</script>