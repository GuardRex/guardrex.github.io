<!DOCTYPE html><html lang=en><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title>Razor Pages Compile-time Minification with ASP.NET Core 2.0</title><meta name=description content="Learn how to use the extensibility features of the Razor engine in ASP.NET Core 2.0 to minify Razor pages at compile time."><meta property=og:locale content=en><meta property=og:site_name content="the guardrex chew"><meta property=og:title content="Razor Pages Compile-time Minification with ASP.NET Core 2.0"><link rel=canonical href="http://www.guardrex.com/"><meta property=og:url content="http://www.guardrex.com/"><meta name=twitter:site content=@guardrex><meta name=twitter:title content="Razor Pages Compile-time Minification with ASP.NET Core 2.0"><meta name=twitter:description content="Learn how to use the extensibility features of the Razor engine in ASP.NET Core 2.0 to minify Razor pages at compile time."><meta name=twitter:url content="http://www.guardrex.com/"><meta name=twitter:card content=summary><meta name=twitter:image content=http://rexsite.azureedge.net/image/twitter600x335.png><meta property=og:image content=http://rexsite.azureedge.net/image/og.png><link rel=apple-touch-icon sizes=57x57 href=http://rexsite.azureedge.net/image/apple-touch-icon-57x57.png><link rel=apple-touch-icon sizes=114x114 href=http://rexsite.azureedge.net/image/apple-touch-icon-114x114.png><link rel=apple-touch-icon sizes=72x72 href=http://rexsite.azureedge.net/image/apple-touch-icon-72x72.png><link rel=apple-touch-icon sizes=144x144 href=http://rexsite.azureedge.net/image/apple-touch-icon-144x144.png><link rel=apple-touch-icon sizes=60x60 href=http://rexsite.azureedge.net/image/apple-touch-icon-60x60.png><link rel=apple-touch-icon sizes=120x120 href=http://rexsite.azureedge.net/image/apple-touch-icon-120x120.png><link rel=apple-touch-icon sizes=76x76 href=http://rexsite.azureedge.net/image/apple-touch-icon-76x76.png><link rel=apple-touch-icon sizes=152x152 href=http://rexsite.azureedge.net/image/apple-touch-icon-152x152.png><link rel=icon type=image/png href=http://rexsite.azureedge.net/image/favicon-196x196.png sizes=196x196><link rel=icon type=image/png href=http://rexsite.azureedge.net/image/favicon-96x96.png sizes=96x96><link rel=icon type=image/png href=http://rexsite.azureedge.net/image/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=http://rexsite.azureedge.net/image/favicon-16x16.png sizes=16x16><link rel=icon type=image/png href=http://rexsite.azureedge.net/image/favicon-128.png sizes=128x128><meta name=application-name content="the guardrex chew"><meta name=msapplication-TileColor content=#FFFFFF><meta name=msapplication-TileImage content=http://rexsite.azureedge.net/image/mstile-144x144.png><meta name=msapplication-square70x70logo content=http://rexsite.azureedge.net/image/mstile-70x70.png><meta name=msapplication-square150x150logo content=http://rexsite.azureedge.net/image/mstile-150x150.png><meta name=msapplication-wide310x150logo content=http://rexsite.azureedge.net/image/mstile-310x150.png><meta name=msapplication-square310x310logo content=http://rexsite.azureedge.net/image/mstile-310x310.png><meta name=msapplication-notification content="polling-uri=http://www.guardrex.com/rss.xml"><style>body{font-family:"Helvetica Neue",Helvetica,Arial,sans-serif;font-size:16px;line-height:1.5;color:#333}h1,h2,h3,h4,h5,h6{font-weight:500;line-height:1.1;margin-top:10px;margin-bottom:10px}h1{font-size:26px}h2{font-size:22px}h3{font-size:20px}.container{padding:0 15px;margin:0 auto;max-width:800px}row{margin-right:-15px;margin-left:-15px}p{margin:0 0 10px}a{color:#337ab7;text-decoration:none}a:hover,a:focus{text-decoration:underline}img{vertical-align:middle;border:0;opacity:1;transition:opacity 0.3s}img[data-src]{opacity:0}.btn{display:inline-block;padding:6px 12px;margin-bottom:0;font-size:14px;font-weight:400;line-height:1.5;text-align:center;white-space:nowrap;vertical-align:middle;touch-action:manipulation;cursor:pointer;user-select:none;background-image:none;border:1px solid #ccc;border-radius:4px;color:#333}.btn:hover,.btn:focus,.btn.focus{background-color:#eee;text-decoration:none}pre{display:block;padding:9px;margin:0 0 10px;font-size:14px;line-height:1.5;color:#333;word-break:break-all;word-wrap:break-word;background-color:#f5f5f5;border:1px solid #ccc;border-radius:4px;font-family:Menlo,Monaco,Consolas,"Courier New",monospace;overflow:auto}ol li{margin:20px 0 20px -25px}table th{text-align:center;border-bottom:1px solid gray}table td:not(:first-child){padding-left:10px}#social_top,#social_bottom td{padding-top:10px}.note,.tip,.warning{border:1px solid gray;padding:10px;margin:10px 0}.note em,.tip em,.warning em{font-size:1.4em}.warning em{color:red}#title{line-height:57px;font-size:36px}#author{font-size:14px;margin-top:5px}@media (max-width:600px){#title,h2{font-size:26px}}@media (max-width:490px){#title,h2{font-size:20px}}@media (max-width:420px){#logo{width:40px;height:40px}#title{font-size:16px;line-height:40px}#author{font-size:12px;margin-top:0}}.nostyle,.nostyle:hover{color:black}</style><script>var _gaq=_gaq||[];_gaq.push(['_setAccount','UA-48425827-1']);_gaq.push(['_trackPageview']);(function(){var ga=document.createElement('script');ga.type='text/javascript';ga.async=true;ga.src=('https:'==document.location.protocol?'https://ssl':'http://www')+'.google-analytics.com/ga.js';var s=document.getElementsByTagName('script')[0];s.parentNode.insertBefore(ga,s);})();</script><header><div id=header_container class=container style="border-bottom:1px solid lightgray;cursor:pointer;cursor:hand" onclick="location.href='/'"><div id=author style=float:right;font-style:italic;text-align:right>Luke Latham<br> <a href=https://twitter.com/guardrex>@guardrex</a></div><img id=logo src=http://rexsite.azureedge.net/image/apple-touch-icon-57x57.png alt=logo style=float:left><div id=title style=color:green;font-family:courier;margin:0>the guardrex chew Yep3</div></div></header><div class=container><table id=social_top><tbody><tr><td><a href="https://twitter.com/home?status=Check%20out%20%40guardrex%20blog%20post%20Razor%20Compile%2Dtime%20Minification"><svg height=28 width=28 xmlns=http://www.w3.org/2000/svg viewBox="0 0 28 28"><path fill=#26c4f1 d="M24.253 8.756C24.69 17.08 18.297 24.182 9.97 24.62a15.093 15.093 0 0 1-8.86-2.32c2.702.18 5.375-.648 7.507-2.32a5.417 5.417 0 0 1-4.49-3.64c.802.13 1.62.077 2.4-.154a5.416 5.416 0 0 1-4.412-5.11 5.43 5.43 0 0 0 2.168.387A5.416 5.416 0 0 1 2.89 4.498a15.09 15.09 0 0 0 10.913 5.573 5.185 5.185 0 0 1 3.434-6.48 5.18 5.18 0 0 1 5.546 1.682 9.076 9.076 0 0 0 3.33-1.317 5.038 5.038 0 0 1-2.4 2.942 9.068 9.068 0 0 0 3.02-.85 5.05 5.05 0 0 1-2.48 2.71z" /></svg></a><td><a href="https://www.facebook.com/sharer/sharer.php?u=http%3A//www.guardrex.com/post/razor-pages-minification.html"><svg height=29 width=29 xmlns=http://www.w3.org/2000/svg viewBox="0 0 29 29"><path fill=#306199 d="M26.4 0H2.6C1.714 0 0 1.715 0 2.6v23.8c0 .884 1.715 2.6 2.6 2.6h12.393V17.988h-3.996v-3.98h3.997v-3.062c0-3.746 2.835-5.97 6.177-5.97 1.6 0 2.444.173 2.845.226v3.792H21.18c-1.817 0-2.156.9-2.156 2.168v2.847h5.045l-.66 3.978h-4.386V29H26.4c.884 0 2.6-1.716 2.6-2.6V2.6c0-.885-1.716-2.6-2.6-2.6z" /></svg></a><td><a href="https://plus.google.com/share?url=http%3A//www.guardrex.com/post/razor-pages-minification.html"><svg xmlns=http://www.w3.org/2000/svg width=24 height=24 viewBox="0 0 24 24"><path fill=#e93f2e d="M21 8.29h-1.95v2.6h-2.6v1.82h2.6v2.6H21v-2.6h2.6v-1.885H21V8.29zM7.614 10.306v2.925h3.9c-.26 1.69-1.755 2.925-3.9 2.925-2.34 0-4.29-2.016-4.29-4.354s1.885-4.353 4.29-4.353c1.104 0 2.014.326 2.794 1.105l2.08-2.08c-1.3-1.17-2.924-1.883-4.874-1.883C3.65 4.586.4 7.835.4 11.8s3.25 7.212 7.214 7.212c4.224 0 6.953-2.988 6.953-7.082 0-.52-.065-1.104-.13-1.624H7.614z"></path></svg></a><td><a href="https://www.linkedin.com/shareArticle?mini=true&amp;url=http%3A//www.guardrex.com/post/razor-pages-minification.html&amp;title=Razor%20Compile%2Dtime%20Minification%20with%20ASP%2ENET%20Core%202%2E0&amp;summary=Check%20out%20%40guardrex%20blog%20post%20Razor%20Compile%2Dtime%20Minification&amp;source=the%20guardrex%20chew"><svg xmlns=http://www.w3.org/2000/svg width=28 height=28 viewBox="0 0 28 28"><path fill=#007bb6 d="M25.424 15.887v8.447h-4.896v-7.882c0-1.98-.71-3.33-2.48-3.33-1.354 0-2.158.91-2.514 1.802-.13.315-.162.753-.162 1.194v8.216h-4.9s.067-13.35 0-14.73h4.9v2.087c-.01.017-.023.033-.033.05h.032v-.05c.65-1.002 1.812-2.435 4.414-2.435 3.222 0 5.638 2.106 5.638 6.632zM5.348 2.5c-1.676 0-2.772 1.093-2.772 2.54 0 1.42 1.066 2.538 2.717 2.546h.032c1.71 0 2.77-1.132 2.77-2.546C8.056 3.593 7.02 2.5 5.344 2.5h.005zm-2.48 21.834h4.896V9.604H2.867v14.73z"></path></svg></a></tbody><table><article><h1>Razor Pages Compile-time Minification with ASP.NET Core 2.0</h1><p>8/13/2017 By: Luke Latham<p>Learn how to use the extensibility features of the Razor engine in ASP.NET Core 2.0 to minify Razor pages at compile time.<p>In this article:<ul><li><a href=#introduction>Introduction</a><li><a href=#prerequisites>Prerequisites</a><li><a href=#additional-resources>Additional Resources</a><li><a href=#acknowledgements>Acknowledgements</a></ul><a id=introduction></a><h2><svg aria-hidden=true height=16 version=1.1 viewbox="0 0 16 16" width=16><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"></path></svg> <a href=#introduction class=nostyle>Introduction</a></h2><p>Intro</p><a id=prerequisites></a><h2><svg aria-hidden=true height=16 version=1.1 viewbox="0 0 16 16" width=16><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"></path></svg> <a href=#prerequisites class=nostyle>Prerequisites</a></h2><p>Prereqs</p><a id=additional-resources></a><h2><svg aria-hidden=true height=16 version=1.1 viewbox="0 0 16 16" width=16><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"></path></svg> <a href=#additional-resources class=nostyle>Additional Resources</a></h2><ul><li><a href="https://docs.microsoft.com/aspnet/core/mvc/razor-pages/">Introduction to Razor Pages in ASP.NET Core</a><li><a href="https://www.nuget.org/packages/WebMarkupMin.Core/">WebMarkupMin.Core at nuget.org</a><li><a href=https://github.com/Taritsyn/WebMarkupMin/wiki>WebMarkupMin.Core Wiki at GitHub</a></ul><a id=acknowledgements></a><h2><svg aria-hidden=true height=16 version=1.1 viewbox="0 0 16 16" width=16><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"></path></svg> <a href=#acknowledgements class=nostyle>Acknowledgements</a></h2><ul><li>Bart Calixto (@bartmax) <a href=https://github.com/Bartmax>@GitHub</a> <a href=https://twitter.com/bartmax>@Twitter</a></ul></article><hr><table id=social_bottom><tbody><tr><td><a href="https://twitter.com/home?status=Check%20out%20%40guardrex%20blog%20post%20Razor%20Compile%2Dtime%20Minification"><svg height=28 width=28 xmlns=http://www.w3.org/2000/svg viewBox="0 0 28 28"><path fill=#26c4f1 d="M24.253 8.756C24.69 17.08 18.297 24.182 9.97 24.62a15.093 15.093 0 0 1-8.86-2.32c2.702.18 5.375-.648 7.507-2.32a5.417 5.417 0 0 1-4.49-3.64c.802.13 1.62.077 2.4-.154a5.416 5.416 0 0 1-4.412-5.11 5.43 5.43 0 0 0 2.168.387A5.416 5.416 0 0 1 2.89 4.498a15.09 15.09 0 0 0 10.913 5.573 5.185 5.185 0 0 1 3.434-6.48 5.18 5.18 0 0 1 5.546 1.682 9.076 9.076 0 0 0 3.33-1.317 5.038 5.038 0 0 1-2.4 2.942 9.068 9.068 0 0 0 3.02-.85 5.05 5.05 0 0 1-2.48 2.71z" /></svg></a><td><a href="https://www.facebook.com/sharer/sharer.php?u=http%3A//www.guardrex.com/post/razor-pages-minification.html"><svg height=29 width=29 xmlns=http://www.w3.org/2000/svg viewBox="0 0 29 29"><path fill=#306199 d="M26.4 0H2.6C1.714 0 0 1.715 0 2.6v23.8c0 .884 1.715 2.6 2.6 2.6h12.393V17.988h-3.996v-3.98h3.997v-3.062c0-3.746 2.835-5.97 6.177-5.97 1.6 0 2.444.173 2.845.226v3.792H21.18c-1.817 0-2.156.9-2.156 2.168v2.847h5.045l-.66 3.978h-4.386V29H26.4c.884 0 2.6-1.716 2.6-2.6V2.6c0-.885-1.716-2.6-2.6-2.6z" /></svg></a><td><a href="https://plus.google.com/share?url=http%3A//www.guardrex.com/post/razor-pages-minification.html"><svg xmlns=http://www.w3.org/2000/svg width=24 height=24 viewBox="0 0 24 24"><path fill=#e93f2e d="M21 8.29h-1.95v2.6h-2.6v1.82h2.6v2.6H21v-2.6h2.6v-1.885H21V8.29zM7.614 10.306v2.925h3.9c-.26 1.69-1.755 2.925-3.9 2.925-2.34 0-4.29-2.016-4.29-4.354s1.885-4.353 4.29-4.353c1.104 0 2.014.326 2.794 1.105l2.08-2.08c-1.3-1.17-2.924-1.883-4.874-1.883C3.65 4.586.4 7.835.4 11.8s3.25 7.212 7.214 7.212c4.224 0 6.953-2.988 6.953-7.082 0-.52-.065-1.104-.13-1.624H7.614z"></path></svg></a><td><a href="https://www.linkedin.com/shareArticle?mini=true&amp;url=http%3A//www.guardrex.com/post/razor-pages-minification.html&amp;title=Razor%20Compile%2Dtime%20Minification%20with%20ASP%2ENET%20Core%202%2E0&amp;summary=Check%20out%20%40guardrex%20blog%20post%20Razor%20Compile%2Dtime%20Minification&amp;source=the%20guardrex%20chew"><svg xmlns=http://www.w3.org/2000/svg width=28 height=28 viewBox="0 0 28 28"><path fill=#007bb6 d="M25.424 15.887v8.447h-4.896v-7.882c0-1.98-.71-3.33-2.48-3.33-1.354 0-2.158.91-2.514 1.802-.13.315-.162.753-.162 1.194v8.216h-4.9s.067-13.35 0-14.73h4.9v2.087c-.01.017-.023.033-.033.05h.032v-.05c.65-1.002 1.812-2.435 4.414-2.435 3.222 0 5.638 2.106 5.638 6.632zM5.348 2.5c-1.676 0-2.772 1.093-2.772 2.54 0 1.42 1.066 2.538 2.717 2.546h.032c1.71 0 2.77-1.132 2.77-2.546C8.056 3.593 7.02 2.5 5.344 2.5h.005zm-2.48 21.834h4.896V9.604H2.867v14.73z"></path></svg></a></tbody><table><hr><div id=disqus_thread></div></table></table></table></table></div><footer><div class=container style="padding:20px 0;text-align:center"><p>Copyright &copy;2017 Luke Latham All Rights Reserved.</div></footer><script>(function(){'use strict';if(navigator.userAgent.match(/IEMobile\/10\.0/)){var msViewportStyle=document.createElement('style')
msViewportStyle.appendChild(document.createTextNode('@-ms-viewport{width:auto!important}'))
document.querySelector('head').appendChild(msViewportStyle)}
var colors=new Array([62,35,255],[60,255,60],[255,35,98],[45,175,230],[255,0,255],[255,128,0]);var step=0;var colorIndices=[0,1,2,3];var gradientSpeed=0.002;function updateGradient()
{var c0_0=colors[colorIndices[0]];var c0_1=colors[colorIndices[1]];var c1_0=colors[colorIndices[2]];var c1_1=colors[colorIndices[3]];var istep=1-step;var r1=Math.round(istep*c0_0[0]+step*c0_1[0]);var g1=Math.round(istep*c0_0[1]+step*c0_1[1]);var b1=Math.round(istep*c0_0[2]+step*c0_1[2]);var color1="rgb("+r1+","+g1+","+b1+")";var r2=Math.round(istep*c1_0[0]+step*c1_1[0]);var g2=Math.round(istep*c1_0[1]+step*c1_1[1]);var b2=Math.round(istep*c1_0[2]+step*c1_1[2]);var color2="rgb("+r2+","+g2+","+b2+")";document.getElementById("gradient").style.background="-webkit-gradient(linear, left top, right top, from("+color1+"), to("+color2+"))";document.getElementById("gradient").style.background="-moz-linear-gradient(left, "+color1+" 0%, "+color2+" 100%)";step+=gradientSpeed;if(step>=1){step%=1;colorIndices[0]=colorIndices[1];colorIndices[2]=colorIndices[3];colorIndices[1]=(colorIndices[1]+Math.floor(1+Math.random()*(colors.length-1)))%colors.length;colorIndices[3]=(colorIndices[3]+Math.floor(1+Math.random()*(colors.length-1)))%colors.length;}}
if(document.getElementById("gradient")!=null){document.getElementById("header_container").style.borderBottom="none";document.getElementById("social_top").style.display="none";document.getElementById("disqus_thread").style.display="none";setInterval(updateGradient,10);}
registerListener('load',setLazy);registerListener('load',lazyLoad);registerListener('scroll',lazyLoad);var lazy=[];function setLazy(){lazy=document.getElementsByClassName('lazy');console.log('Found '+lazy.length+' lazy images');}
function lazyLoad(){for(var i=0;i<lazy.length;i++){if(isInViewport(lazy[i])){if(lazy[i].getAttribute('data-src')){lazy[i].src=lazy[i].getAttribute('data-src');lazy[i].removeAttribute('data-src');}}}
cleanLazy();}
function cleanLazy(){lazy=Array.prototype.filter.call(lazy,function(l){return l.getAttribute('data-src');});}
function isInViewport(el){var rect=el.getBoundingClientRect();return(rect.bottom>=0&&rect.right>=0&&rect.top<=(window.innerHeight||document.documentElement.clientHeight)&&rect.left<=(window.innerWidth||document.documentElement.clientWidth));}
function registerListener(event,func){if(window.addEventListener){window.addEventListener(event,func)}else{window.attachEvent('on'+event,func)}}
var d=document,s=d.createElement('script');s.src='https://guardrex.disqus.com/embed.js';s.setAttribute('data-timestamp',+new Date());(d.head||d.body).appendChild(s);})();</script>